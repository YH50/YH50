<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04_DOM.html</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script type="text/javaScript">
        // DOM - 자바스크립트보다 제이쿼리에서 훨씬 활용도가 높음

        // 선택 자 및 필터링으로서의 DOM
        // 1. 기본 필터링 메소드
            //      - filter() method 사용의 두가지 형태
            //          1) $(selector).filter(필터키워드)
            $(function(){
            // $('h3').filter(':even').css({backgroundColor:'crimson', color:'ivory'});
            // <=> $('h3:even').css({backgroundColor:'dodgerblue', color:'ivory'});
            });
        
            //          2) $(selector).filter(function(index){});
            $(function(){
            /*
            $('h3').filter(function(index){return index%2 == 1 }).css({backgroundColor:'orange'});
            */ 
            // h3 에 부여된 index 들이 차례로 filter에 적용되고, 익명함수에 의해 true, false로 적용됨
            // true 일때만 css가 적용됨!!
            });

        // 2. 문서 객체 탐색 체이닝 & 종료

            $(function(){

            // ex 1)
            // 체이닝을 사용해 한 줄로 서로 다른 문서 객체에 스타일 적용 가능
            //      - 전체 배경은 오렌지색, 짝수 줄에 빨간글씨
                // $('h3').css('background', 'orange').filter(':odd').css('color', 'navy');

            // ex 2)
            // 전체 배경색 지정, 짝수번째 빨간글씨, 홀수번째 파랑글씨
            // 개별 지정하기
            // $('h3')
            //     .css('background', 'crimson')
            //     .filter('h3:even').css('color', 'yellow')
            //     .filter('h3:odd').css('color', 'blue');
                // 배경색 css 문장이 실행되면 리턴되는 문서객체가 $('h3')이지만
                // 그 밑 even css 설정 문장까지 실행돼서 리턴된 문서객체는 짝수번째의 h3들임
                // 따라서 마지막 필터링 문장은 리턴된 짝수번째들 중 홀수번째에 적용됨

                //이를 막으려면 end()를 이용하여 짝수번째를 다 필터링한 후에
                //    다시 홀수번째 필터링을 적용해야 의도한 필터링이 진행됨.

                $('h3')
                .css('background', 'crimson')
                .filter('h3:even').css('color', 'yellow')
                .end()           // >> 문서 객체 선택을 필터링 이전 한 단계 뒤로 돌리는 함수.
                .filter('h3:odd').css('color', 'blue');

            // 필터링 대상에 다른 태그를 추가할 수 있음
                $('h3')
                    .css('background', 'crimson')
                    .filter('h3:even').css('color', 'yellow')
                    .end()           
                    .filter('h3:odd').css('color', 'blue')
                    .add('h2').css('border', '3px solid green');
            });


    </script>
</head>

<body>

    <!-- 문서개체 필터링 - 체이닝 - 종료 -->
    <h3>Header - 0</h3>
    <h3>Header - 1</h3>
    <h3>Header - 2</h3>
    <h3>Header - 3</h3>
    <h3>Header - 4</h3>
    <h3>Header - 5</h3>
    <h2>Header - 6</h2>
    <h2>Header - 7</h2>
</body>

</html>